@{
    //Layout cho trang ( )
    Layout = "_UserLayout";

    ViewData["Title"] = "Home Page";
    var loginMessage = TempData["LoginSuccess"] as string;
}
<link rel="stylesheet" href="~/css/UserViews/Book/book-list.css" />
@model WorldBook.ViewModel.BookViewModel

<div class="book-list-container">
    <h2>Book List</h2>

    <div class="book-grid">
        @foreach (var book in Model.Books)
        {
            <a href="@Url.Action("GetBookDetails", "Book", new { id = book.BookId })" class="book-card-link">
                <div class="book-card">
                    <img src="@book.ImageUrl1" alt="@book.BookName" class="book-image" />
                    <div class="book-card-content">
                        <h3 class="book-name">@book.BookName</h3
                        <p class="book-price">@book.BookPrice.ToString("C0")</p>
                        <p class="book-quantity">Quantity: @book.BookQuantity</p>
                    </div>
                </div>
            </a>
        }
    </div>
</div>





@* Success login message *@
<div class="modal fade" id="successModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header bg-success text-white">
                <h5 class="modal-title">Success</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                @TempData["LoginSuccess"]
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>






    @section Scripts {
    <script>
        @* Log F12 chỉ khi có TempData *@
        @if (TempData["LoginSuccess"] != null)
        {
            <text>

                var logMessage = "@Html.Raw(TempData["Log"])";
                    console.log(logMessage.replace(/<br\/>/g, "\n"));

                document.addEventListener("DOMContentLoaded", function () {
                    var successModal = new bootstrap.Modal(document.getElementById('successModal'));
                    successModal.show();
                });
            </text>
        }
    </script>
}


